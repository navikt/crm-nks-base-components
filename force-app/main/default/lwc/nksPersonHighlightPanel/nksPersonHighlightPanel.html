<template>
    <div class={panelStyling}>
        <lightning-layout>
            <lightning-layout-item class="slds-grid slds-wrap content-area">
             <c-nks-custom-svg
                size="large"
                class={genderIcon}
                src={genderIconSrc}
                alt-text={gender}
                classes={genderIconClass}
            ></c-nks-custom-svg> 
            <p>{gender}</p>

                <h1 class="slds-page-header__title slds-var-p-around_medium">{fullName}</h1>

                <p class="slds-var-p-around_medium">{personIdent}
                    <!-- sldsValidatorIgnoreNextLine -->
                    <lightning-button-icon 
                    value={personIdent}
                    style="color: white;" 
                    icon-name="utility:copy"
                    variant="bare" onclick={handleCopy} 
                    alternative-text="Kopier fødselsnummer"
                    title="Kopier fødselsnummer">
                </lightning-button-icon> 
                </p>

                <p class="slds-var-p-around_medium">{age}/{citizenship}/{maritalStatus}</p>

                <p class="slds-var-p-around_medium">{navUnit}
                    <!-- sldsValidatorIgnoreNextLine -->
                    <lightning-button-icon
                    value={navUnit} 
                    style="color: white;" 
                    icon-name="utility:copy"
                    variant="bare" 
                    onclick={handleCopy} 
                    alternative-text="Kopier nav enhet"
                    title="Kopier nav enhet">
                </lightning-button-icon> 
                </p>

                <p class="slds-var-p-around_medium">{formattedveileder}
                    <!-- sldsValidatorIgnoreNextLine -->
                    <lightning-button-icon 
                    value={formattedveileder} 
                    style="color: white;" 
                    icon-name="utility:copy"
                    variant="bare" 
                    onclick={handleCopy} 
                    alternative-text="Kopier veileders navn"
                    title="Kopier veileders navn">
                </lightning-button-icon> 
                </p>
            </lightning-layout-item>
        </lightning-layout>
        <c-nks-person-highlight-panel-mid
            lwc:if={highlightPanelOpen}
            badge-content={badgeContent}
        ></c-nks-person-highlight-panel-mid>
        <div style="display: flex; justify-content: flex-end" class="slds-var-m-right_medium"></div>
        <div
            style="display: flex; justify-content: flex-end; height: 5.5rem; align-items: center"
            class="slds-var-m-right_medium"
        ></div>
            <template for:each={personAccessBadges} for:item="badge">
                <div key={badge.name}>
                    <lightning-badge
                        class="slds-theme_error slds-var-m-left_x-small slds-var-m-vertical_xx-small redBadge"
                        data-id={badge.name}
                        label={badge.label}
                        role="heading"
                    >
                    </lightning-badge>
                </div>
            </template>
            <template for:each={badges} for:item="badge">
                <div key={badge.name} data-id={badge.name}>
                    <template lwc:if={badge.clickable}>
                        <lightning-badge
                            data-id={badge.name}
                            label={badge.label}
                            icon-name={badge.iconName}
                            icon-position="start"
                            class={badge.styling}
                            tabindex={badge.tabindex}
                            onkeypress={onKeyPressHandler}
                            onclick={onClickHandler}
                            aria-expanded="false"
                            role="heading"
                        >
                        </lightning-badge>
                    </template>
                    <template lwc:else>
                        <lightning-badge
                            data-id={badge.name}
                            label={badge.label}
                            icon-name={badge.iconName}
                            icon-position="start"
                            class={badge.styling}
                            role="heading"
                        >
                        </lightning-badge>
                    </template>
                    <div lwc:if={badge.badgeContent}>
                        <c-nks-person-highlight-panel-badge-content
                            data-id={badge.badgeContentType}
                            shown-badge={shownBadge}
                            type={badge.badgeContentType}
                            badge-data={badge.badgeContent}
                            onbadgeclosed={closeBadge}
                        ></c-nks-person-highlight-panel-badge-content>
                    </div>
                </div>
            </template>
        </div>
        <c-nks-person-highlight-panel-mid
            gender={gender}
        ></c-nks-person-highlight-panel-mid>
        <c-nks-person-highlight-panel-bot
            record-id={recordId}
            object-api-name={objectApiName}
            gender={gender}
        ></c-nks-person-highlight-panel-bot>
</template>
